<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 For Students | teacheR</title>
  <meta name="description" content="Teach yourself or others R with this introduction to the fundamentals of the R language." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3 For Students | teacheR" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="cover.png" />
  <meta property="og:description" content="Teach yourself or others R with this introduction to the fundamentals of the R language." />
  <meta name="github-repo" content="ARawles/teacheR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 For Students | teacheR" />
  
  <meta name="twitter:description" content="Teach yourself or others R with this introduction to the fundamentals of the R language." />
  <meta name="twitter:image" content="cover.png" />

<meta name="author" content="Adam Rawles" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="introduction.html"/>
<link rel="next" href="for-teachers.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> teacheR (1<sup>st</sup> Edition)</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.1.1</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#about-me"><i class="fa fa-check"></i><b>1.2</b> About Me</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-teacher"><i class="fa fa-check"></i><b>1.3</b> Why teacheR?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#what-is-r"><i class="fa fa-check"></i><b>2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#should-i-use-r"><i class="fa fa-check"></i><b>2.2</b> Should I use R?</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#using-r"><i class="fa fa-check"></i><b>2.3</b> Using R</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#rstudio"><i class="fa fa-check"></i><b>2.4</b> RStudio</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction.html"><a href="introduction.html#what-is-an-ide"><i class="fa fa-check"></i><b>2.4.1</b> What is an IDE?</a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction.html"><a href="introduction.html#using-rstudio"><i class="fa fa-check"></i><b>2.4.2</b> Using RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction.html"><a href="introduction.html#packages"><i class="fa fa-check"></i><b>2.5</b> Packages</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introduction.html"><a href="introduction.html#installing-packages"><i class="fa fa-check"></i><b>2.5.1</b> Installing packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="for-students.html"><a href="for-students.html"><i class="fa fa-check"></i><b>3</b> For Students</a>
<ul>
<li class="chapter" data-level="3.1" data-path="for-students.html"><a href="for-students.html#operators"><i class="fa fa-check"></i><b>3.1</b> Operators</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="for-students.html"><a href="for-students.html#arithmetic-operators"><i class="fa fa-check"></i><b>3.1.1</b> Arithmetic operators</a></li>
<li class="chapter" data-level="3.1.2" data-path="for-students.html"><a href="for-students.html#logical-operators"><i class="fa fa-check"></i><b>3.1.2</b> Logical operators</a></li>
<li class="chapter" data-level="3.1.3" data-path="for-students.html"><a href="for-students.html#questions-operators"><i class="fa fa-check"></i><b>3.1.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="for-students.html"><a href="for-students.html#variable-assignment"><i class="fa fa-check"></i><b>3.2</b> Variable assignment</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="for-students.html"><a href="for-students.html#creating-variables"><i class="fa fa-check"></i><b>3.2.1</b> Creating variables</a></li>
<li class="chapter" data-level="3.2.2" data-path="for-students.html"><a href="for-students.html#naming"><i class="fa fa-check"></i><b>3.2.2</b> Naming</a></li>
<li class="chapter" data-level="3.2.3" data-path="for-students.html"><a href="for-students.html#reassigning-variables"><i class="fa fa-check"></i><b>3.2.3</b> Reassigning variables</a></li>
<li class="chapter" data-level="3.2.4" data-path="for-students.html"><a href="for-students.html#questions-variable-assignment"><i class="fa fa-check"></i><b>3.2.4</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="for-students.html"><a href="for-students.html#data-types"><i class="fa fa-check"></i><b>3.3</b> Data types</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="for-students.html"><a href="for-students.html#logical"><i class="fa fa-check"></i><b>3.3.1</b> Logical</a></li>
<li class="chapter" data-level="3.3.2" data-path="for-students.html"><a href="for-students.html#double"><i class="fa fa-check"></i><b>3.3.2</b> Double</a></li>
<li class="chapter" data-level="3.3.3" data-path="for-students.html"><a href="for-students.html#integer"><i class="fa fa-check"></i><b>3.3.3</b> Integer</a></li>
<li class="chapter" data-level="3.3.4" data-path="for-students.html"><a href="for-students.html#character"><i class="fa fa-check"></i><b>3.3.4</b> Character</a></li>
<li class="chapter" data-level="3.3.5" data-path="for-students.html"><a href="for-students.html#factors"><i class="fa fa-check"></i><b>3.3.5</b> Factors</a></li>
<li class="chapter" data-level="3.3.6" data-path="for-students.html"><a href="for-students.html#dates"><i class="fa fa-check"></i><b>3.3.6</b> Dates</a></li>
<li class="chapter" data-level="3.3.7" data-path="for-students.html"><a href="for-students.html#datetimes-posixct"><i class="fa fa-check"></i><b>3.3.7</b> Datetimes (POSIXct)</a></li>
<li class="chapter" data-level="3.3.8" data-path="for-students.html"><a href="for-students.html#na-and-null"><i class="fa fa-check"></i><b>3.3.8</b> NA and NULL</a></li>
<li class="chapter" data-level="3.3.9" data-path="for-students.html"><a href="for-students.html#nan-and-infinity"><i class="fa fa-check"></i><b>3.3.9</b> NaN and Infinity</a></li>
<li class="chapter" data-level="3.3.10" data-path="for-students.html"><a href="for-students.html#implicit-conversion"><i class="fa fa-check"></i><b>3.3.10</b> Implicit Conversion</a></li>
<li class="chapter" data-level="3.3.11" data-path="for-students.html"><a href="for-students.html#questions-data-types"><i class="fa fa-check"></i><b>3.3.11</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="for-students.html"><a href="for-students.html#data-structures"><i class="fa fa-check"></i><b>3.4</b> Data structures</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="for-students.html"><a href="for-students.html#vectors"><i class="fa fa-check"></i><b>3.4.1</b> Vectors</a></li>
<li class="chapter" data-level="3.4.2" data-path="for-students.html"><a href="for-students.html#lists"><i class="fa fa-check"></i><b>3.4.2</b> Lists</a></li>
<li class="chapter" data-level="3.4.3" data-path="for-students.html"><a href="for-students.html#lists-vs-vectors"><i class="fa fa-check"></i><b>3.4.3</b> Lists vs Vectors</a></li>
<li class="chapter" data-level="3.4.4" data-path="for-students.html"><a href="for-students.html#matrices"><i class="fa fa-check"></i><b>3.4.4</b> Matrices</a></li>
<li class="chapter" data-level="3.4.5" data-path="for-students.html"><a href="for-students.html#dataframes"><i class="fa fa-check"></i><b>3.4.5</b> Dataframes</a></li>
<li class="chapter" data-level="3.4.6" data-path="for-students.html"><a href="for-students.html#questions-data-structures"><i class="fa fa-check"></i><b>3.4.6</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="for-students.html"><a href="for-students.html#subsetting"><i class="fa fa-check"></i><b>3.5</b> Subsetting</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="for-students.html"><a href="for-students.html#vectors-1"><i class="fa fa-check"></i><b>3.5.1</b> Vectors</a></li>
<li class="chapter" data-level="3.5.2" data-path="for-students.html"><a href="for-students.html#lists-1"><i class="fa fa-check"></i><b>3.5.2</b> Lists</a></li>
<li class="chapter" data-level="3.5.3" data-path="for-students.html"><a href="for-students.html#matrices-1"><i class="fa fa-check"></i><b>3.5.3</b> Matrices</a></li>
<li class="chapter" data-level="3.5.4" data-path="for-students.html"><a href="for-students.html#dataframes-1"><i class="fa fa-check"></i><b>3.5.4</b> Dataframes</a></li>
<li class="chapter" data-level="3.5.5" data-path="for-students.html"><a href="for-students.html#subsetting-by-criteria"><i class="fa fa-check"></i><b>3.5.5</b> Subsetting by criteria</a></li>
<li class="chapter" data-level="3.5.6" data-path="for-students.html"><a href="for-students.html#questions-subsetting"><i class="fa fa-check"></i><b>3.5.6</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="for-students.html"><a href="for-students.html#functions"><i class="fa fa-check"></i><b>3.6</b> Functions</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="for-students.html"><a href="for-students.html#function-basics"><i class="fa fa-check"></i><b>3.6.1</b> Function basics</a></li>
<li class="chapter" data-level="3.6.2" data-path="for-students.html"><a href="for-students.html#questions-functions"><i class="fa fa-check"></i><b>3.6.2</b> Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="for-teachers.html"><a href="for-teachers.html"><i class="fa fa-check"></i><b>4</b> For Teachers</a>
<ul>
<li class="chapter" data-level="4.1" data-path="for-teachers.html"><a href="for-teachers.html#functions-teachers"><i class="fa fa-check"></i><b>4.1</b> Functions</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="for-teachers.html"><a href="for-teachers.html#creating-functions"><i class="fa fa-check"></i><b>4.1.1</b> Creating functions</a></li>
<li class="chapter" data-level="4.1.2" data-path="for-teachers.html"><a href="for-teachers.html#input-validation"><i class="fa fa-check"></i><b>4.1.2</b> Input validation</a></li>
<li class="chapter" data-level="4.1.3" data-path="for-teachers.html"><a href="for-teachers.html#functions-as-objects"><i class="fa fa-check"></i><b>4.1.3</b> Functions as objects</a></li>
<li class="chapter" data-level="4.1.4" data-path="for-teachers.html"><a href="for-teachers.html#example-answer"><i class="fa fa-check"></i><b>4.1.4</b> Example answer</a></li>
<li class="chapter" data-level="4.1.5" data-path="for-teachers.html"><a href="for-teachers.html#vectorised-functions"><i class="fa fa-check"></i><b>4.1.5</b> Vectorised functions</a></li>
<li class="chapter" data-level="4.1.6" data-path="for-teachers.html"><a href="for-teachers.html#questions-functions-teachers"><i class="fa fa-check"></i><b>4.1.6</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="for-teachers.html"><a href="for-teachers.html#environments"><i class="fa fa-check"></i><b>4.2</b> Environments</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="for-teachers.html"><a href="for-teachers.html#environment-basics"><i class="fa fa-check"></i><b>4.2.1</b> Environment basics</a></li>
<li class="chapter" data-level="4.2.2" data-path="for-teachers.html"><a href="for-teachers.html#environment-inheritance"><i class="fa fa-check"></i><b>4.2.2</b> Environment inheritance</a></li>
<li class="chapter" data-level="4.2.3" data-path="for-teachers.html"><a href="for-teachers.html#scope"><i class="fa fa-check"></i><b>4.2.3</b> Scope</a></li>
<li class="chapter" data-level="4.2.4" data-path="for-teachers.html"><a href="for-teachers.html#function-environments"><i class="fa fa-check"></i><b>4.2.4</b> Function environments</a></li>
<li class="chapter" data-level="4.2.5" data-path="for-teachers.html"><a href="for-teachers.html#mutability"><i class="fa fa-check"></i><b>4.2.5</b> Mutability</a></li>
<li class="chapter" data-level="4.2.6" data-path="for-teachers.html"><a href="for-teachers.html#questions-environments"><i class="fa fa-check"></i><b>4.2.6</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="for-teachers.html"><a href="for-teachers.html#objects-and-classes"><i class="fa fa-check"></i><b>4.3</b> Objects and Classes</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="for-teachers.html"><a href="for-teachers.html#what-is-a-class"><i class="fa fa-check"></i><b>4.3.1</b> What is a class?</a></li>
<li class="chapter" data-level="4.3.2" data-path="for-teachers.html"><a href="for-teachers.html#what-is-an-object"><i class="fa fa-check"></i><b>4.3.2</b> What is an object?</a></li>
<li class="chapter" data-level="4.3.3" data-path="for-teachers.html"><a href="for-teachers.html#objects-and-classes-in-r"><i class="fa fa-check"></i><b>4.3.3</b> Objects and Classes in R</a></li>
<li class="chapter" data-level="4.3.4" data-path="for-teachers.html"><a href="for-teachers.html#creating-classes"><i class="fa fa-check"></i><b>4.3.4</b> Creating classes</a></li>
<li class="chapter" data-level="4.3.5" data-path="for-teachers.html"><a href="for-teachers.html#questions-objects-and-classes"><i class="fa fa-check"></i><b>4.3.5</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="for-teachers.html"><a href="for-teachers.html#expressions"><i class="fa fa-check"></i><b>4.4</b> Expressions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="for-teachers.html"><a href="for-teachers.html#creating-expressions"><i class="fa fa-check"></i><b>4.4.1</b> Creating expressions</a></li>
<li class="chapter" data-level="4.4.2" data-path="for-teachers.html"><a href="for-teachers.html#evaluating-expressions"><i class="fa fa-check"></i><b>4.4.2</b> Evaluating expressions</a></li>
<li class="chapter" data-level="4.4.3" data-path="for-teachers.html"><a href="for-teachers.html#substitution"><i class="fa fa-check"></i><b>4.4.3</b> Substitution</a></li>
<li class="chapter" data-level="4.4.4" data-path="for-teachers.html"><a href="for-teachers.html#quasiquotation"><i class="fa fa-check"></i><b>4.4.4</b> Quasiquotation</a></li>
<li class="chapter" data-level="4.4.5" data-path="for-teachers.html"><a href="for-teachers.html#questions-expressions"><i class="fa fa-check"></i><b>4.4.5</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="for-teachers.html"><a href="for-teachers.html#if-else"><i class="fa fa-check"></i><b>4.5</b> If / Else</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="for-teachers.html"><a href="for-teachers.html#questions-if-else"><i class="fa fa-check"></i><b>4.5.1</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="for-teachers.html"><a href="for-teachers.html#iteration"><i class="fa fa-check"></i><b>4.6</b> Iteration</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="for-teachers.html"><a href="for-teachers.html#imperative-programming"><i class="fa fa-check"></i><b>4.6.1</b> Imperative programming</a></li>
<li class="chapter" data-level="4.6.2" data-path="for-teachers.html"><a href="for-teachers.html#for-loops"><i class="fa fa-check"></i><b>4.6.2</b> For loops</a></li>
<li class="chapter" data-level="4.6.3" data-path="for-teachers.html"><a href="for-teachers.html#while-loops"><i class="fa fa-check"></i><b>4.6.3</b> While loops</a></li>
<li class="chapter" data-level="4.6.4" data-path="for-teachers.html"><a href="for-teachers.html#functional-programming"><i class="fa fa-check"></i><b>4.6.4</b> Functional programming</a></li>
<li class="chapter" data-level="4.6.5" data-path="for-teachers.html"><a href="for-teachers.html#questions-iteration"><i class="fa fa-check"></i><b>4.6.5</b> Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>5</b> Summary</a>
<ul>
<li class="chapter" data-level="5.1" data-path="summary.html"><a href="summary.html#answers"><i class="fa fa-check"></i><b>5.1</b> Answers</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="summary.html"><a href="summary.html#for-students-1"><i class="fa fa-check"></i><b>5.1.1</b> For Students</a></li>
<li class="chapter" data-level="5.1.2" data-path="summary.html"><a href="summary.html#for-teachers-1"><i class="fa fa-check"></i><b>5.1.2</b> For Teachers</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="summary.html"><a href="summary.html#next-steps"><i class="fa fa-check"></i><b>5.2</b> Next Steps</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="summary.html"><a href="summary.html#operate"><i class="fa fa-check"></i><b>5.2.1</b> opeRate</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">teacheR</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="for-students" class="section level1" number="3">
<h1><span class="header-section-number">3</span> For Students</h1>
<p>This section of the book is aimed at those who are either complete beginners in data analysis and statistical computing or who have some prior experience with another language or software package and want to learn more about R.</p>
<p>Here, we’ll take a look at the basics but without going into too much detail so as to be confusing. If you make it through this section, when you come out the other side you’ll have more than enough knowledge to be able to complete your first real R project.</p>
<p>For those of you who feel you want to understand what underpins the concepts and code we’re going to look at, or those who want to eventually teach R to others, the following section (“For Teachers”) will go into more detail. For example, you’ll need to understand what a function is to use R, but you won’t need to know how to create one. In the “For Students” section, we look at what a function is, and then we learn how to create one in the “For Teachers” section.</p>
<div id="operators" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Operators</h2>
<p>Operators perform an action or represent something. For example, a great example of an operator is <code>+</code>. The <code>+</code> is a type of arithmetic operator that adds things together.</p>
<p>In this section, we’re going to look at the more common arithmetic operators that are used for simple maths in R, and then at some logical operators that are used to evaluate whether a criteria has been fulfilled.</p>
<div id="arithmetic-operators" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Arithmetic operators</h3>
<p>At the base of lots of programming languages are the arithmetic operators. These are your symbols that perform things like addition, subtraction, multiplication, etc. Because these operations are so ubiquitous however, the symbols that are used are often very similar across languages, so if you’ve used Excel or Python or SPSS or anything similar before, then these should be fairly straightforward.</p>
<p>Here are the main operators in use:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="for-students.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span>  <span class="co"># addition</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="for-students.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">5</span> <span class="co"># subtraction</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="for-students.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="dv">4</span> <span class="co"># multiplication</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="for-students.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span> <span class="sc">/</span> <span class="dv">25</span> <span class="co"># division</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
</div>
<div id="logical-operators" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Logical operators</h3>
<p>Logical operators are slightly different to arithmetic operators - they are used to evaluate a particular criteria. For example, are two values equal. Or, are two values equal <em>and</em> two other values different.</p>
<p>To compare whether two things are equal, we use two equal signs (<code>==</code>) in R:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="for-students.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span> <span class="co"># equal</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Why two I hear you say? Well, a bit later on we’ll see that we use a single equals sign for something else.</p>
<p>To compare whether two things are different (not equal), we use <code>!=</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="for-students.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">!=</span> <span class="dv">2</span> <span class="co"># not equal</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>The <code>!</code> sign is also used in other types of criteria, so the best way to think about it is that it inverts the criteria you’re testing. So in this case, it’s inverting the “equals” criteria, making it “not equal”.</p>
<p>Testing whether a value is smaller or larger than another is done with the <code>&lt;</code> and <code>&gt;</code> operators:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="for-students.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">&gt;</span> <span class="dv">1</span>  <span class="co"># greater than</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="for-students.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">&lt;</span> <span class="dv">4</span> <span class="co"># less than</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Applying our logic with the <code>!</code> sign, we can also test whether something is <em>not</em> smaller or <em>not</em> larger:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="for-students.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&gt;!</span> <span class="dv">2</span> <span class="co"># not greater than</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="for-students.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">&lt;!</span> <span class="dv">4</span> <span class="co"># not less than</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Why is the <code>!</code> sign before the equals sign in the “not equal” to code, but after the “less than/greater than” sign? No idea. It’d probably make more sense if they were the same, but I suppose worse things happen at sea.</p>
<p>There are three more logical operators, and they are the “and”, “or”, and “xor” operators. These are used to test whether at least one or more than one or only one of the logical comparisons are true or false:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="for-students.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">3</span> <span class="co"># or (i.e. are either of these TRUE)</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="for-students.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">3</span> <span class="co"># and (i.e. are these both TRUE)</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>The xor operator is a bit different:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="for-students.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xor</span>(<span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">2</span> <span class="sc">==</span> <span class="dv">3</span>) <span class="co"># TRUE because only 1 is</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="for-students.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xor</span>(<span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">2</span> <span class="sc">==</span> <span class="dv">2</span>) <span class="co"># FALSE because both are</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>For <code>xor()</code>, you need to provide your criteria in brackets, but this will make much more sense once we look at functions.</p>
</div>
<div id="questions-operators" class="section level3" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Questions</h3>
<ol style="list-style-type: decimal">
<li>Why do <code>1 != 2</code> and <code>!(1 == 2)</code> both equal true?</li>
<li>Reading the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Logic.html">R documentation</a> on logical operators, what is the difference between <code>|</code> and <code>||</code> (and <code>&amp;</code> and <code>&amp;&amp;</code>)?
<ul>
<li>Hint: the <a href="data-structures">data structures</a> section of this book should help</li>
</ul></li>
</ol>
</div>
</div>
<div id="variable-assignment" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Variable assignment</h2>
<p>Do you ever tell a story to a friend, and then someone else walks in once you’ve finished and so you have to tell the whole thing again?</p>
<p>Well, imagine after the second friend walks in, another friend comes in, and you have to start the story over again, and then another friend comes in and so on and so forth. What would be the best way to save you repeating yourself? As weird as it would look, if you wrote the story down then anyone who came in could just read it, rather than you having to go through the effort of explaining the whole thing each time.</p>
<p>Also, if you realised you’d misremembered something, then you’d just have to change the story as it was written down, rather than going to each of your friends and explaining your error.</p>
<p>This is essentially what we can do in R. Sometimes you’ll use the same value again and again in your script. For example, say you’re looking at total expenditure over a year, the value for the amount spent would probably come up quite a lot. Now, you could just type that value in every time you need it, but that’s a lot of error. And what happens if the value changed? You’d then have to go through and change it every time it appears.</p>
<p>Instead, you could store the value in a variable, and then reference the variable every time you need it. This way, if you ever have to change the value, you only need to change it once.</p>
<div id="creating-variables" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Creating variables</h3>
<p>Creating variables in R is really easy. All you need to do is provide a valid name, use the <code>&lt;-</code> symbol, and then provide a value to assign:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="for-students.html#cb33-1" aria-hidden="true" tabindex="-1"></a>hello_im_a_variable <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb33-2"><a href="for-students.html#cb33-2" aria-hidden="true" tabindex="-1"></a>hello_im_a_variable</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p>Now, whenever you want to use your variable, you just need to provide the variable name in place of the value:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="for-students.html#cb35-1" aria-hidden="true" tabindex="-1"></a>hello_im_a_variable <span class="sc">/</span> <span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>You can even use your variable to create new variables:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="for-students.html#cb37-1" aria-hidden="true" tabindex="-1"></a>hello_im_another_variable <span class="ot">&lt;-</span> hello_im_a_variable <span class="sc">/</span> <span class="dv">20</span></span>
<span id="cb37-2"><a href="for-students.html#cb37-2" aria-hidden="true" tabindex="-1"></a>hello_im_another_variable</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>When you come across other people’s work, you may see that they use <code>=</code> instead of <code>&lt;-</code> when they create their variables. Even though it’s not the end of the world if you do do that, I would recommend getting into the habit of using <code>&lt;-</code>. <code>&lt;-</code> is purely used for assignment, whereas <code>=</code> is actually also used when we call functions, and so it can get a bit confusing if you use them interchangeably.</p>
<p>As a side note, you’ll see that the value of the variable isn’t outputted when we assign it. If we want to see the value, we need just the name.</p>
</div>
<div id="naming" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Naming</h3>
<p>Naming objects and variables in R mostly comes down to preference. There are some hard and fast rules that need to be followed which we’ll discuss and also a few common naming conventions but which one you use is up to you.</p>
<div id="valid-names" class="section level4" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Valid names</h4>
<p>R is pretty lenient when it comes to names but there are some red lines:</p>
<ul>
<li>Names must start with a character or a dot (but then the second character can’t be a digit)</li>
<li>Names can only contain letters, numbers, underscores, and dots</li>
</ul>
<p>Similar to this, there are some reserved words that can’t be used as object names:</p>
<ul>
<li>break</li>
<li>if</li>
<li>else</li>
<li>FALSE</li>
<li>TRUE</li>
<li>for</li>
<li>function</li>
<li>Inf</li>
<li>NaN</li>
<li>NA</li>
<li>next</li>
<li>repeat</li>
<li>return</li>
<li>while</li>
</ul>
<p>As a sidenote, names are case sensitive. That means that you can have two objects called <code>test</code> and <code>Test</code> that can be referred to separately. Generally, this isn’t the best idea.</p>
</div>
<div id="naming-conventions" class="section level4" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Naming conventions</h4>
<div id="nouns-and-verbs" class="section level5" number="3.2.2.2.1">
<h5><span class="header-section-number">3.2.2.2.1</span> Nouns and verbs</h5>
<p>Roughly speaking, it’s advisable to name your variables as nouns and your functions (which we get to later) as verbs. This is because variables can be considered <em>things</em> whereas functions <em>do things</em>.</p>
<p>For example, an appropriate name for the energy-based dataset you’re working on might be <code>energy_dataset</code>. This is descriptive and unique. An example of good function names are the <code>sum()</code> and <code>mean()</code> functions; what they do is easily disseminated from their names.</p>
</div>
<div id="multiple-words" class="section level5" number="3.2.2.2.2">
<h5><span class="header-section-number">3.2.2.2.2</span> Multiple words</h5>
<p>Sometimes, you’ll want to use names that have more than one word, like our <code>energy_dataset</code> example. If you’re convinced that the best way to do this is to include an actual space, you can create objects with spaces in their names by surrounding the name in backticks `:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="for-students.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">dont call your variable this</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<p><strong>Please don’t ever do this.</strong> It will just make things 100% more complicated down the line. Instead, I highly recommend that you use camel case (<code>EnergyDataset</code>), <code>_</code>s (<code>energy_dataset</code>) or <code>.</code>s (<code>energy.dataset</code>).</p>
<p>Personally, I use <code>_</code>s because camel case is more difficult to read at a glance and there is a group of R functions that use <code>.</code> in their name and you don’t want to get confused with those, but it’s really just a preference. I would only say that it’s better to be consistent than to choose the right convention.</p>
</div>
</div>
</div>
<div id="reassigning-variables" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Reassigning variables</h3>
<p>Variables are very flexible. You can overwrite a previously defined variable just be reassigning a new value to the same name:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="for-students.html#cb40-1" aria-hidden="true" tabindex="-1"></a>variable_1 <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb40-2"><a href="for-students.html#cb40-2" aria-hidden="true" tabindex="-1"></a>variable_1 <span class="ot">&lt;-</span> <span class="st">&quot;I&#39;m not 100 anymore&quot;</span></span>
<span id="cb40-3"><a href="for-students.html#cb40-3" aria-hidden="true" tabindex="-1"></a>variable_1</span></code></pre></div>
<pre><code>## [1] &quot;I&#39;m not 100 anymore&quot;</code></pre>
<p>R will also give the variable an appropriate <em>type</em> based on the value you assign. So for example, if you assign <code>20</code> to a variable, then that variable will be stored as a number. If you assign something in quotation marks like <code>"hello"</code>, then R will store it as text.</p>
<p>Let’s look in a bit more detail at the different data types…</p>
</div>
<div id="questions-variable-assignment" class="section level3" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Questions</h3>
<ol style="list-style-type: decimal">
<li>Is <code>.2nd</code> a valid name? Why/why not?</li>
<li>Why are names like <code>if</code>, <code>function</code>, and <code>TRUE</code> not allowed?</li>
<li>Why might it be a bad idea to assign a value to a name like <code>mean</code> or <code>sum</code>?</li>
</ol>
</div>
</div>
<div id="data-types" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Data types</h2>
<p>Data can be stored in lots of different forms. For example, <code>"TRUE"</code> and <code>TRUE</code> are stored as two different types, even though they look very similar to us.</p>
<p>The main different data types are:</p>
<ul>
<li><p>logical</p>
<ul>
<li>TRUE</li>
<li>FALSE</li>
</ul></li>
<li><p>double (numeric)</p>
<ul>
<li>12.5</li>
<li>19</li>
<li>99999</li>
</ul></li>
<li><p>integer (numeric)</p>
<ul>
<li>2L</li>
<li>34L</li>
</ul></li>
<li><p>character</p>
<ul>
<li>“hello”</li>
<li>“my name is”</li>
</ul></li>
<li><p>factors</p></li>
<li><p>dates</p>
<ul>
<li>2019-06-01</li>
</ul></li>
<li><p>datetime (POSIXct)</p>
<ul>
<li>2019-06-01 12:00:00</li>
</ul></li>
</ul>
<p>Let’s have a look at each one in detail:</p>
<div id="logical" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Logical</h3>
<p>A logical variable can only have two <em>real</em> values, <code>TRUE</code> or <code>FALSE</code>. I say two <em>real</em> values, because you can also have things like <code>NA</code>, but that’s true of any data type. We look at <code>NA</code> values a <a href="for-students.html#na-and-null">little bit later on</a>.</p>
<p>Logical variables are used a lot in response questionnaires, where the answer to the question is either “Yes” or “No” (<code>TRUE</code> or <code>FALSE</code>). I would recommend converting any character strings like “Yes” or “No” or “TRUE” or “FALSE” to a logical variable rather than leaving them as characters, because it’ll make your analysis less verbose (use fewer lines of code), even if it doesn’t change the underlying logic.</p>
<p>To test whether something is stored as logical, we use the <code>is.logical()</code> function:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="for-students.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(<span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="for-students.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(<span class="st">&quot;TRUE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>To convert a value to logical, use the <code>as.logical()</code> function:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="for-students.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.logical</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="for-students.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.logical</span>(<span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="for-students.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.logical</span>(<span class="st">&quot;TRUE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="for-students.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.logical</span>(<span class="st">&quot;FALSE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Be careful though, just because a conversion seems obvious to you, doesn’t mean you’ll get the expected result! For instance, what do you think <code>as.logical(2)</code> should return? See for yourself.</p>
</div>
<div id="double" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Double</h3>
<p>The best way to think of a <code>double</code> value is as a number. It can be a whole number (but see <a href="for-students.html#integer">Integers</a>) or a decimal. R will often take care of any implicit number conversion that needs to be done under the hood, so the only thing you really need to keep in mind is that when you assign a number, be it a whole number or decimal, it will be stored as double by default.</p>
<p>As an aside, it’s called double because it’s stored using <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">double precision</a>.</p>
<p>To check whether a value is stored as double (or more generally numeric), use the <code>is.double()</code> and <code>is.numeric()</code> functions:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="for-students.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.double</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="for-students.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="st">&quot;not numeric&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="for-students.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.double</span>(2L) <span class="co"># see the next section for why this returns FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>To convert a value to a double, use the <code>as.double()</code> or <code>as.numeric()</code> functions:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="for-students.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.double</span>(<span class="st">&quot;5&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="for-students.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="st">&quot;10&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="for-students.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.double</span>(<span class="st">&quot;im going to cause a warning&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA</code></pre>
</div>
<div id="integer" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Integer</h3>
<p>Whilst also storing numeric data (like double), integers are specific to whole numbers. Also, by default, even when you assign a whole number, like this: <code>number &lt;- 1</code>, R will store that value as double rather than as an integer. To store something explicitly as an integer, suffix the value with an <code>L</code>, like this: <code>number &lt;- 1L</code>. Attempting to store something that isn’t an integer as an integer will result in a warning:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="for-students.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1.5</span>L</span></code></pre></div>
<pre><code>## [1] 1.5</code></pre>
<p>For the most part, I let R take care of how it stores numbers, unless I explicitly need it to be of a certain type. That is pretty rare though.</p>
<p>To check if something is an integer, use the <code>is.integer()</code> function:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="for-students.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="for-students.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(2L)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>To convert to an integer, use the <code>L</code> suffix or the <code>as.integer()</code> function:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="for-students.html#cb73-1" aria-hidden="true" tabindex="-1"></a>1L</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
<div id="character" class="section level3" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Character</h3>
<p>Sometimes called characters, or character strings, or just strings, characters store text. If you assign a value within quotation marks, regardless of what’s inside the quotation marks, it will be stored as character. For example,
<code>"5"</code> stores a character string with the text “5”, not the number 5. This is particularly important when you want to start combining variables. For example, <code>{r, error = TRUE} "5" + 5</code> doesn’t work, because you’re trying to add text to a number, which doesn’t make sense.</p>
<p>To check whether something is stored as a character, use the <code>is.character()</code> function:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="for-students.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="st">&quot;hello&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="for-students.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="for-students.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>To convert something to a character, use the <code>as.character()</code> function:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="for-students.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;5&quot;</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="for-students.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(<span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;TRUE&quot;</code></pre>
</div>
<div id="factors" class="section level3" number="3.3.5">
<h3><span class="header-section-number">3.3.5</span> Factors</h3>
<p>Factors are a unique but useful data type in R. Essentially, factors store different levels that represent some sort of grouping. For example, say you were collecting some information on people from different countries, the column that holds which country the respondent is from could be stored as a factor, with the levels England, Spain, France, etc.</p>
<p>A factor level is made up of two things. A label and a number that represents that group. In my countries example, our factor would have the labels “England”, “Spain”, “France” and the values 1, 2, 3. This means that internally, a factor is essentially a collection of integers representing the level position and character strings representing the level label.</p>
<p>To create a factor, we just use the <code>factor()</code> function:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="for-students.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;England&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Spain&quot;</span>))</span></code></pre></div>
<pre><code>## [1] England France  Spain  
## Levels: England France Spain</code></pre>
<p>It’s also worth remembering that you can have levels that don’t appear in the data you have. For example, in a questionnaire, you may provide the options “None”, “Some”, “All”. But in your responses, you may see that no-one chose the “None” option. In that case, you would still create a factor with three levels, even though only two of them appear.</p>
<p>You can also specify whether a factor is <em>ordered</em>. You would use an ordered factor when the levels have meaningful order. For instance, in the above example, it would make sense that “Some” is better than “None”, and “All” is better than “Some”. To create an ordered factor, just specify <code>ordered = TRUE</code> in your function. By default, the factor will be ordered in the order the values appear, unless you specify levels (see below).</p>
<p>To convert something to a factor, use the <code>factor()</code> function if you want to specify levels and labels, or <code>as.factor()</code> to do it for you:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="for-students.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;Some&quot;</span>, <span class="st">&quot;All&quot;</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;None&quot;</span>, <span class="st">&quot;Some&quot;</span>, <span class="st">&quot;All&quot;</span>))</span></code></pre></div>
<pre><code>## [1] Some All 
## Levels: None Some All</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="for-students.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;Some&quot;</span>, <span class="st">&quot;All&quot;</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;None&quot;</span>, <span class="st">&quot;Some&quot;</span>, <span class="st">&quot;All&quot;</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] Some All 
## Levels: None &lt; Some &lt; All</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="for-students.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;Some&quot;</span>, <span class="st">&quot;All&quot;</span>))</span></code></pre></div>
<pre><code>## [1] Some All 
## Levels: All Some</code></pre>
<p>Notice the difference in the output of those three lines. The first allows us to specify the levels (i.e. the values that were possible). The second does the same but we also specify the ordering of the levels, and the third just converts the provided values and generates the levels based on that data.</p>
<p><em>Note: An important change in R version 4.0.0 is that R will no longer automatically convert strings (characters) to factors when you import data using <code>data.frame()</code> or <code>read.table()</code>. Prior to 4.0.0, it would automatically convert strings to characters unless otherwise specified.</em></p>
<div id="converting-from-factors" class="section level4" number="3.3.5.1">
<h4><span class="header-section-number">3.3.5.1</span> Converting from factors</h4>
<p>Sometimes you’ll need to convert data from a factor to something else, usually a character. This is fairly straightforward using the tools we’ve already seen:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="for-students.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(<span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;Some&quot;</span>, <span class="st">&quot;None&quot;</span>, <span class="st">&quot;All&quot;</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Some&quot; &quot;None&quot; &quot;All&quot;</code></pre>
</div>
</div>
<div id="dates" class="section level3" number="3.3.6">
<h3><span class="header-section-number">3.3.6</span> Dates</h3>
<p>Dates in any language are tricky. Different countries store dates in different formats and different bits of software store dates in different ways (looking at you Excel). This can make storing values as dates tough.</p>
<p>The most common way of creating a date is to use the <code>as.Date()</code> function. To use this function, you just need to provide your date as a character string:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="for-students.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;2019/01/01&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2019-01-01&quot;</code></pre>
<p>But Adam, how does R know which one is the month and which is the day? Good question, thank you for asking. By default, R expects your character string to be in the order “Year/Month/Day”. If you don’t provide it in that format, you’ll get a nonsense output:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="for-students.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;01/12/2019&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1-12-20&quot;</code></pre>
<p>If your data is in a different format however, you can specify the format:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="for-students.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;01/12/2019&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%d/%m/%Y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2019-12-01&quot;</code></pre>
<p>Here, we’re telling R that the string is in the format “Day/Month/Year”. A list of the different codes that can be used in the format parameter can be found <a href="https://www.statmethods.net/input/dates.html">here</a>, or by typing “R date codes” into Google.</p>
<p>Because nothing in life is simple, sometimes you’ll get some data that has the date stored as a number. This is because the source of that data has the date stored as the number of days that have passed since an origin date. Because it’s a number, our <code>as.Date(..., format = ...)</code> doesn’t work. Instead, we can still use the <code>as.Date()</code> function, but we need to specify what the origin date is that the number refers to.</p>
<p>By default, when importing from Excel in Windows, the origin date is December 31st 1899. More commonly, the date January 1st 1970 (also known as the epoch date) is used.</p>
<p>Anyway, to specify your origin, we use the <code>origin</code> parameter, like this:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="for-students.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="dv">18262</span>, <span class="at">origin =</span> <span class="st">&quot;1970/01/01&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2020-01-01&quot;</code></pre>
<p>Notice the format I’ve provided the origin in. It’s the same as the default that R expects, and I would recommend copying that format wherever possible. If you’re someone who just wants to watch the world burn, then you can specify a format for your origin as well…’</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="for-students.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="dv">18262</span>, <span class="at">origin =</span> <span class="fu">as.Date</span>(<span class="st">&quot;01/01/1970&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%d/%m/%Y&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;2020-01-01&quot;</code></pre>
<p>but where’s the humanity in that?</p>
<p>Testing whether something is a date is not as simple as the other data types unfortunately. Instead, we just use the <code>is()</code> or <code>class()</code> functions. If the first value returned is “Date”, then you know it’s a date:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="for-students.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2020/01/01&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;     &quot;oldClass&quot;</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="for-students.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2020/01/01&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
</div>
<div id="datetimes-posixct" class="section level3" number="3.3.7">
<h3><span class="header-section-number">3.3.7</span> Datetimes (POSIXct)</h3>
<p>If you thought dates were annoying, datetimes are like dates’ little brother who didn’t get enough attention as a child and so acts up all the time.
One of the reasons for this is that datetimes aren’t actually called datetimes. They’re called POSIXct in R. So whenever you see that dreadful word, just remember “ah, Adam told me that means datetime” and you’ll be fine.</p>
<p>Another thing that makes datetimes tough is that in addition to dates, datetimes (as you may have guessed) also store the time. The issue with that is that time is a more relative concept - there are lots of different time zones, so how do you know which one you’re referring to? By default, R has a locale for where you currently are and will use that location for your timezone. You override that default using the <code>Sys.setlocale()</code> function, or you can use the <code>tz</code> parameter when creating your datetime as we’ll see below.</p>
<p>With these annoyances aside however, creating datetimes isn’t all that different to creating dates except that we use the <code>as.POSIXct()</code> function instead. We just provide a character string (with a <code>format</code> specification if necessary), or a number with an origin. One important departure from dates though, is that now our origin is in seconds, not days, to allow us to calculate the time.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="for-students.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.POSIXct</span>(<span class="st">&quot;2020/01/01 12:00:00&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2020-01-01 12:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="for-students.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.POSIXct</span>(<span class="st">&quot;2020/01/01 12:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;NZ&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2020-01-01 12:00:00 NZDT&quot;</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="for-students.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.POSIXct</span>(<span class="dv">1577880000</span>, <span class="at">origin =</span> <span class="st">&quot;1970/01/01&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2020-01-01 12:00:00 UTC&quot;</code></pre>
<p>Similar to dates, there is no <code>as.POSIXct()</code> function in base R, so we use the <code>is()</code> and <code>class()</code> functions instead:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="for-students.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;2020/01/01 12:00:00&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot;  &quot;POSIXt&quot;   &quot;oldClass&quot;</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="for-students.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;2020/01/01 12:00:00&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
</div>
<div id="na-and-null" class="section level3" number="3.3.8">
<h3><span class="header-section-number">3.3.8</span> NA and NULL</h3>
<p>The R language has two kind of related values, <strong><code>NA</code></strong> and <strong><code>NULL</code></strong>.</p>
<div id="null" class="section level4" number="3.3.8.1">
<h4><span class="header-section-number">3.3.8.1</span> NULL</h4>
<p><em><code>NULL</code></em> indicates the absence of a value. It means that a value is missing (or has length zero). A null value has no ‘type’ because it represents an absence of something, so passing a null value to any of the <code>is.[type]()</code> functions will return FALSE. Instead, checking whether a value is NULL is done with the <code>is.null()</code> function:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="for-students.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="cn">NULL</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="for-students.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.null</span>(<span class="cn">NULL</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p><code>is.character()</code> returns <code>FALSE</code> because <code>NULL</code> doesn’t have a data type (it’s the absence of a value), whereas <code>is.null()</code> returns <code>TRUE</code> because it is <code>NULL</code>.</p>
<p>What happens when you compare values to <code>NULL</code> using our logical operators? Well, this is where the idea of <code>NULL</code> having a length of 0 comes in. If you type <code>length(NULL)</code>, you’ll see it will return 0. So when you’re comparing a value against <code>NULL</code> like this:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="for-students.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Am I NULL?&quot;</span> <span class="sc">==</span> <span class="cn">NULL</span></span></code></pre></div>
<pre><code>## logical(0)</code></pre>
<p>You get an output that is of length 0. And that makes sense, because <code>NULL</code> is missing/has 0 zero length. So basically you’re then comparing something (<code>"Am I NULL?"</code>) to nothing (<code>NULL</code>). Therefore, your output is nothing (or length 0).</p>
<p>Dealing with <code>NULL</code> can be a bit tricky, so the important thing to remember is that <code>NULL</code> represents something missing, and have length 0. Unlike, <code>NA</code>…</p>
</div>
<div id="na" class="section level4" number="3.3.8.2">
<h4><span class="header-section-number">3.3.8.2</span> NA</h4>
<p>On the other hand, <em><code>NA</code></em> (not available) represents an invalid value. This most often occurs when you try to convert one datatype to another where R can’t assign an appropriate value.</p>
<p><code>NA</code> isn’t of length 0 like <code>NULL</code> because it is a value, it’s just invalid. In other words, there’s something there, but it doesn’t really make sense what it is.</p>
<p>For example, attempting to parse a character string to a date format that doesn’t match will result in a <code>NA</code> value:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="for-students.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;10/01/20&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%m%Y%d&quot;</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>R has tried to parse a value from one type into another. The value isn’t <code>NULL</code> because it clearly isn’t missing, but it couldn’t be converted to a date type, so it’s <code>NA</code>.
Unlike NULL, there are different <code>NA</code> values for each datatype (although they’ll all look like <code>NA</code> in the console). In the example above, we actually created a <code>NA</code> that has the Date type:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="for-students.html#cb127-1" aria-hidden="true" tabindex="-1"></a>errant_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;10/01/20&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%m%Y%d&quot;</span>)</span>
<span id="cb127-2"><a href="for-students.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(errant_date)</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;     &quot;oldClass&quot;</code></pre>
<p>This is because R knows what type the <code>NA</code> <em>should</em> be, but it couldn’t assign in a proper value.</p>
<p>The same behaviour can be observed for other data types:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="for-students.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="st">&quot;not a number&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="for-students.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.logical</span>(<span class="st">&quot;not a logical&quot;</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="for-students.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(<span class="fu">as.numeric</span>(<span class="st">&quot;not a number&quot;</span>))</span></code></pre></div>
<pre><code>## Warning in is(as.numeric(&quot;not a number&quot;)): NAs introduced by coercion</code></pre>
<pre><code>## [1] &quot;numeric&quot; &quot;vector&quot;</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="for-students.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(<span class="fu">as.logical</span>(<span class="st">&quot;not a logical&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot; &quot;vector&quot;</code></pre>
<p>To test whether something is <code>NA</code>, we use the <code>is.na()</code> function. You don’t need to worry about what type the <code>NA</code> is, this will test if it is an <code>NA</code> of any type.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="for-students.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="cn">NA_character_</span>) <span class="co"># this will be an NA that is of type &#39;character&#39;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="for-students.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="cn">NA_integer_</span>) <span class="co"># this will be an NA that is of type &#39;integer&#39;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="dealing-with-nas" class="section level4" number="3.3.8.3">
<h4><span class="header-section-number">3.3.8.3</span> Dealing with NAs</h4>
<p>Dealing with <code>NA</code>s is often contextual. Attempting to perform a mathematical calculation on a vector of values that contains at least one <code>NA</code> will often return <code>NA</code>:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="for-students.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="for-students.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="cn">NA</span>))</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="for-students.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span> <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>In some cases, those <code>NA</code>s will represent real issues with the values and so removing the NAs or converting them to 0 will just mask the error without fixing it.</p>
<p>Alternatively, data imports can often return <code>NA</code> values because of differing data types or similar and so converting those values to 0 or removing them outright may be appropriate.</p>
<p>Ultimately, how you deal with <code>NA</code> values is a question that you’ll need to answer when it happens and depending on the situation. I will give you a helping hand though and say that if you want to just remove the <code>NA</code> values when summing or calculating an average or similar, then these functions often have an <code>na.rm</code> parameter than can be used to remove the <code>NA</code> values from the supplied list of values:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="for-students.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="cn">NA</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
</div>
<div id="nan-and-infinity" class="section level3" number="3.3.9">
<h3><span class="header-section-number">3.3.9</span> NaN and Infinity</h3>
<p>A special case is <code>NaN</code> (not a number). NaNs are distinct to <code>NA</code> in that they represent a valid value. More precisely, <code>NaN</code> represents not real numbers (numeric values that cannot be represented with numbers). For example, dividing 0/0.</p>
<p><code>Inf</code> and <code>-Inf</code> are similar constructs. They represent infinity and minus infinity respectively. They are valid values but they are not representable with numbers, so they have their own reserved words.</p>
<p><code>NaN</code>, <code>Inf</code> and <code>-Inf</code> are all of the numeric type and do not have equivalent values in other data types.</p>
</div>
<div id="implicit-conversion" class="section level3" number="3.3.10">
<h3><span class="header-section-number">3.3.10</span> Implicit Conversion</h3>
<p>Converting between types using the <code>as.x()</code> functions is nice and easy because the type that you’re converting to is explicitly defined. However, there is also <em>implicit conversion</em> in R. That is where R basically avoids an error by converting a variable into a different data type so that the function can run correctly. Let’s look at a proper example.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="for-students.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">&quot;I&#39;m a character&quot;</span>, <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] &quot;I&#39;m a character100&quot;</code></pre>
<p>The <code>paste0()</code> function provides a pretty good example of implicit conversion in the wild. <code>paste0()</code> expects character strings when it’s called, so what happens when you provide it with a number like we did above? Why doesn’t it complain?
Well it’s because R automtically converts it for us. It takes that number, converts it to a character and then pastes things together. This way, you can be a bit more fast and loose with your data types because R will do the type conversion for you. Maybe the best way to describe it is that it’s a bit like a programming autocorrect.</p>
<div id="dangers-of-implicit-conversion" class="section level4" number="3.3.10.1">
<h4><span class="header-section-number">3.3.10.1</span> Dangers of implicit conversion</h4>
<p>As you can imagine, this automatic conversion between types when the user didn’t specifically ask for it can cause problems. For example, when I teach R courses I often ask the attendees what they think <code>R</code> is going to return when I type <code>"TRUE" == TRUE</code>. Without fail, the majority will say that it’s going to be <code>FALSE</code>; one is a character string and the other is a logical value.</p>
<p>My heart always dies a little bit then when I show them that it actually returns <code>TRUE</code>. “But why?”, they rightly ask. And it’s all because of implicit conversion. When we use the <code>==</code> operator, R will try and coerce the variables so that they’re the same type. In this case, it successfully coerces <code>"TRUE"</code> to <code>TRUE</code>, and so returns <code>TRUE</code>.</p>
<p>There are, of course, going to be cases where this makes things easier. For instance, say you’ve got some data where there are two columns of logical values but one has incorrectly been imported as a character column. This implicit conversion will save you from having to change the character column. But implicit conversion will inevitably cause you problems in the future.</p>
<p>So my advice is simply to be aware of it. Don’t fight it, don’t worry about it unduly, just keep it in the back of your mind for that one time where you can’t seem to figure out why you can divide things by <code>TRUE</code>.</p>
</div>
</div>
<div id="questions-data-types" class="section level3" number="3.3.11">
<h3><span class="header-section-number">3.3.11</span> Questions</h3>
<ol style="list-style-type: decimal">
<li>Why are <code>2</code> and <code>2L</code> different?</li>
<li>What is an ordered factor and how is it different to a character string?</li>
<li>Why does <code>as.Date("19/01/2019", format = "%d/%m/%y")</code> return the date 19th Jan 2020 and not 19th Jan 2019?</li>
<li>Why does <code>as.numeric(TRUE)</code> return 1? What will <code>as.logical(2)</code> return?</li>
<li>Look at the <code>identical()</code> function. How is that different from <code>==</code>?</li>
</ol>
</div>
</div>
<div id="data-structures" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Data structures</h2>
<p>It’s rare that you’re ever going to be working on a single value in R. Instead, you’re going to want to work on collections of values, like a dataset or a list or something similar. So we need to know what data structures are available in R. Here’s a list of the structures which we’ll go into more detail:</p>
<ul>
<li>vectors</li>
<li>lists</li>
<li>matrices</li>
<li>data frames</li>
</ul>
<div id="vectors" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Vectors</h3>
<p>Vectors are simple arrays of data in a single dimension. You can think of vectors as a like a very simple list. For instance, you can store the numbers 1 to 10 in a vector. Or each word in a string of text could be stored in a vector.</p>
<p>One of the main things to remember about vectors however, is that they are atomic. That’s basically a fancy word to mean that each value in a vector must be a single unit. For instance, the number <code>1</code> is a single unit. But a vector containing all the numbers between 1 and 10 is not. This is in direct contrast to lists, which are recursive, and we’ll look at those next.</p>
<p>To create a vector, we use the <code>c()</code> function, which is short for concatenate. In other words, we’re pulling together lots of different values and concatenating them into one structure.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="for-students.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p>Technically speaking, even single values are stored as a vector in R, they just have length one. That’s why if you type <code>is(1)</code>, the second things that pops up after “numeric” is “vector”. R is telling us that <code>1</code> is a number and that it’s also a vector.</p>
<div id="coercion" class="section level4" number="3.4.1.1">
<h4><span class="header-section-number">3.4.1.1</span> Coercion</h4>
<p>All the values in a vector must be of the same type (e.g. character, numeric, etc.). If you try and create a vector with different data types in it, you’ll see that all the values will be coerced to the same type. This is because the type of a vector is stored at the structure level (i.e., what type is the vector?), not at the individual level (i.e. what type is the value in the vector?). Let’s look at an example:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="for-students.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="st">&quot;hello&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot;     &quot;hello&quot;</code></pre>
<p>You can see that both values get coerced to character strings. If we try:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="for-students.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(1L, <span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>## [1] 1.0 1.5</code></pre>
<p>We see that our integer (<code>1L</code>) becomes a double.</p>
<p>This is related to the concept of <a href="for-students.html#implicit-conversion"><strong>implicit conversion</strong></a> in R. Roughly speaking, all of the values in your vector will get coerced to the most <em>complex</em> type.</p>
</div>
<div id="naming-1" class="section level4" number="3.4.1.2">
<h4><span class="header-section-number">3.4.1.2</span> Naming</h4>
<p>You can name the values in a vector. To give a value a name, you can simply provide one with a <code>=</code> sign when you create your vector:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="for-students.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">this_is_the_first_value =</span> <span class="dv">1</span>, <span class="at">this_is_the_second_value =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  this_is_the_first_value this_is_the_second_value 
##                        1                        2</code></pre>
</div>
</div>
<div id="lists" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Lists</h3>
<p>Lists are similar to vectors in that they store values one after another. However, there are two main differences:</p>
<ul>
<li>Lists can contain values of any type - they are <em>recursive</em>.</li>
</ul>
<p>Recursion is the action of doing something again and again. We call lists recursive, because we could have a list, that contains a list, that contains a list, and so on and so forth like Russian Dolls.</p>
<ul>
<li>Lists do not have to be made up of values of the same type.</li>
</ul>
<p>So for instance, whilst a vector must always be the same, like <code>c(1,2,3)</code>, we could have a list that looks like this:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="for-students.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;hello&quot;</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;hello&quot;
## 
## [[3]]
## [1] TRUE</code></pre>
<p>As you just saw, we create lists using the <code>list()</code> function, and providing names is done the same way as it is for vectors:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="for-students.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb163-2"><a href="for-students.html#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">first_value =</span> <span class="dv">1</span>,</span>
<span id="cb163-3"><a href="for-students.html#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">second_value =</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb163-4"><a href="for-students.html#cb163-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## $first_value
## [1] 1
## 
## $second_value
## [1] &quot;hello&quot;</code></pre>
</div>
<div id="lists-vs-vectors" class="section level3" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Lists vs Vectors</h3>
<p>Given that lists and vectors are intrinsically linked, it’s very natural to wonder when to use on over the other. Well, the basic answer is to use whichever one has the requirements you need. If all of your values are of the same type and are atomic (numeric, integer, logical, etc.). If they aren’t all the same, or you need to have a list of data structures like vectors and lists rather than just single values, then use a list.</p>
<p>I appreciate that this answer isn’t particularly satisfactory, so let me give a real life example of when I’ve used each.</p>
<p><u>Vector</u></p>
<p>I was recently producing a simulation that I needed to run multiple times with a different value each time. The value itself was a single number ranging between 1 and 30. So I used a vector like so:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="for-students.html#cb165-1" aria-hidden="true" tabindex="-1"></a>my_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>)</span>
<span id="cb165-2"><a href="for-students.html#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="co"># this is just shorthand for saying &quot;all of the numbers from 1 to 30&quot;</span></span></code></pre></div>
<p>So when I ran my simulation, I had all the values I wanted to run it for in a single structure.</p>
<p><u>List</u></p>
<p>When doing data modelling, it can sometimes be helpful to create and evaluate multiple models. One way of doing that is to create multiple models and assign them to different variables:</p>
<pre><code>model1 &lt;- model(...)
model2 &lt;- model(...)
model3 &lt;- model(...)</code></pre>
<p>The problem with this however, is that if I then want to compare the models, I’ll have to write out <code>modelX</code> each time. If I have 50 models or similar, it may take a while. So instead, I often store all my models in a list. The values are complex (i.e. a model isn’t just a numeric or character value) so they can’t be stored in a vector, but they can be stored in a list. This means that I keep all my models together, and if I then decide that actually I want to add more models to my list, this is significantly easier than typing out more <code>modelX &lt;- model(...)</code> lines and assigning each one as a new variable.</p>
<p>Before moving onto the other data structures, I just want to quickly mention that in my learning experience, understanding vectors and lists is one of the most important parts of getting to grips with R. R for many is about automating analysis and reducing the amount of time taken to do something. And vectors and lists are at the heart of this. Later on, we’ll look at functions and for loops, which we can use to perform the same action or calculation on all the values in a list or vector. Together, these will be your strongest R tools.</p>
</div>
<div id="matrices" class="section level3" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Matrices</h3>
<p>Unlike vectors, matrices are 2 dimensional. In fact, matrices resemble something a bit like a watered down version of a spreadsheet or table.</p>
<p>I say watered down, because matrices can only contain values of the same type. In fact, a matrix is really just a vector in 2D. For example, if I had a vector of the numbers 1 to 10, I could easily convert it into a matrix just by setting what I wanted the dimensions to be with the <code>dim()</code> function like so:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="for-students.html#cb167-1" aria-hidden="true" tabindex="-1"></a>im_gunna_be_a_matrix <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb167-2"><a href="for-students.html#cb167-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(im_gunna_be_a_matrix) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>)</span>
<span id="cb167-3"><a href="for-students.html#cb167-3" aria-hidden="true" tabindex="-1"></a>im_gunna_be_a_matrix</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="for-students.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(im_gunna_be_a_matrix)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot;    &quot;array&quot;     &quot;structure&quot; &quot;vector&quot;</code></pre>
<p>Matrices aren’t really designed for storing complex datasets. Instead, matrices are an efficient way of storing and performing matrix mathematics on sets of numbers.</p>
<p>Creating a matrix is easy. You can give a vector dimensions like we did above, or you can use the <code>matrix()</code> function. We provide the values we want to put into the matrix, and how many rows and columns they should be split into:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="for-students.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4</code></pre>
<p>By default, the matrix is filled by column first (i.e. it starts at column 1 and fills that column, then moves onto the next one). To change this, use <code>byrow = TRUE</code>.</p>
</div>
<div id="dataframes" class="section level3" number="3.4.5">
<h3><span class="header-section-number">3.4.5</span> Dataframes</h3>
<p>Dataframes are the more typical dataset storage medium. They can have columns of different types (although all of types within a column need to be the same), and they resemble more of an Excel spreadsheet or table than matrices do.</p>
<p>To create a dataframe, we use the <code>data.frame()</code> function. To this function, we provide our values as columns:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="for-students.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">col_1 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb173-2"><a href="for-students.html#cb173-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">col_2 =</span> <span class="fu">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;world&quot;</span>, <span class="st">&quot;howsitgoing&quot;</span>))</span></code></pre></div>
<pre><code>##   col_1       col_2
## 1     1       hello
## 2     2       world
## 3     3 howsitgoing</code></pre>
<p>More specifically, R stores dataframes as essentially a list of lists, with each list representing a different column. It’s <em>a tiny</em> bit like the relationship between vectors and matrices; matrices are built on vectors and dataframes are built on lists. To demonstrate this, when we type…</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="for-students.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(<span class="fu">data.frame</span>())</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot; &quot;list&quot;       &quot;oldClass&quot;   &quot;vector&quot;</code></pre>
<p>The second value in the returned vector is “list”.</p>
<p>So at it’s heart, a dataframe is a list, and each column within a dataframe is also a list. Why is that useful to know? Well, for one, this should make things make a bit more sense when we move onto <a href="subsetting.html#dataframes-1">subsetting</a>. Secondly, when you start to move onto more complicated analysis, you can utilise the features of a list to create datasets that wouldn’t be possible in something like Excel. For instance, we know that we can store models in a list. Well, let’s say we had a dataset that had data for lots of different countries and we wanted to create a separate model for each country. We could have a dataset that had the country in one column and then the model in another:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="for-students.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb177-2"><a href="for-students.html#cb177-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">country =</span> <span class="fu">c</span>(<span class="st">&quot;England&quot;</span>, <span class="st">&quot;Spain&quot;</span>, <span class="st">&quot;France&quot;</span>),</span>
<span id="cb177-3"><a href="for-students.html#cb177-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span>  <span class="fu">I</span>(<span class="fu">list</span>(<span class="fu">model</span>(...), <span class="fu">model</span>(...), <span class="fu">model</span>(...)))</span>
<span id="cb177-4"><a href="for-students.html#cb177-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The I() just tells R to leave it as a list</span></span>
<span id="cb177-5"><a href="for-students.html#cb177-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>For now though, don’t worry too much about the internals. Just remember that data frames are the most flexible dataset storage medium and they’ll be what you do most of your analysis with. And if you can remember that each column is technically a list, then you’re ahead of the game.</p>
</div>
<div id="questions-data-structures" class="section level3" number="3.4.6">
<h3><span class="header-section-number">3.4.6</span> Questions</h3>
<ol style="list-style-type: decimal">
<li>If I want to store a set of integers, what data structure should I use and why?</li>
<li>Reading in Excel and .csv files into R will convert them into data.frames. Why do you think this is?</li>
<li>What does <code>is(matrix())</code> return? What does this tell us about the underlying difference between matrices and dataframes?
<ul>
<li>Hint: This explains why matrices need to have columns of the same type</li>
</ul></li>
</ol>
</div>
</div>
<div id="subsetting" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Subsetting</h2>
<p>There will be occasions where you don’t want all the values in a vector/list/matrix/dataframe. Instead, you’ll only want a <em>subset</em>. The way to do that is slightly different depending on the data structure you’re using.</p>
<p><strong>Note</strong>: In some programming languages, an index starts from 0. This means that you have a list or array or similar, the first value is at position 0, then 1, then 2, etc. In R, the first value is at position 1. In other words, we index from 1 in R.</p>
<div id="vectors-1" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Vectors</h3>
<p>Vectors are simple. Just use square brackets (<code>[]</code> or <code>[[]]</code>) after your vector and provide the index or indices of the values that you want:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="for-students.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>)[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="for-students.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>)[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>)]</span></code></pre></div>
<pre><code>## [1] 10 40</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="for-students.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 10 20 30</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="for-students.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>)[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>P.S. If you have a vector of named values, you can also use the names instead of the indices. Like <code>c(value_1 = 1)[["value_1"]]</code>.</p>
<p>But Adam, I hear you ask, <code>c(10,20,30,40)[1]</code> and <code>c(10,20,30,40)[[1]]</code> just gave us the same thing, so are the interchangeable?</p>
<p>Well, they kind of returned the same thing, but they didn’t. So no, they’re not interchangeable.</p>
<p>Essentially, <code>[]</code> returns the <em>container</em> at the provided index, where <code>[[]]</code> returns the <em>value</em> at the provided index. Another way of thinking about it is that <code>[]</code> is a subsetting operator (you’re taking a subset of the original set) whereas <code>[[]]</code> is an extraction operator (you’re extracting a value out of the vector). As a real-world analogy, say you have ten salt shakers lined up in a row with salt in each one. Using the <code>[]</code> operator will give you the salt shaker (and the salt) you asked for. Using <code>[[]]</code> will give you just the salt inside the shaker, but not the shaker.</p>
<p>Let’s see a practical example in R of the difference:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="for-students.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">value_1 =</span> <span class="dv">10</span>,</span>
<span id="cb186-2"><a href="for-students.html#cb186-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_2 =</span> <span class="dv">20</span>)[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## value_1 
##      10</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="for-students.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">value_1 =</span> <span class="dv">10</span>,</span>
<span id="cb188-2"><a href="for-students.html#cb188-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_2 =</span> <span class="dv">20</span>)[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>In the first call, we get the name of the value and the value itself. In other words, rather than just returning the value at that index, we’ve essentially just chopped up the vector to only returning everything from the first position. Conversely, in the second call, we’ve just been given the value. What we’ve done here is extracted the value out from that position.</p>
<p>As a result of this difference, <strong><code>[]</code> can be used with more that one index (e.g. <code>[1:5]</code> or <code>[c(1,3)]</code>) whereas <code>[[]]</code> can only be used with a single index</strong>.</p>
<p>It’s a very subtle difference, but it is an important one. Make sure that if you want the value, use <code>[[]]</code>, and if you want the whole part of the vector, use <code>[]</code>.</p>
</div>
<div id="lists-1" class="section level3" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Lists</h3>
<p>Lists can be subsetted in the same way as vectors - <code>[]</code> returns the container at the index provided and <code>[[]]</code> returns just the value:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="for-students.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb190-2"><a href="for-students.html#cb190-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_1 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb190-3"><a href="for-students.html#cb190-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_2 =</span> <span class="fu">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>, <span class="st">&quot;everyone&quot;</span>)</span>
<span id="cb190-4"><a href="for-students.html#cb190-4" aria-hidden="true" tabindex="-1"></a>)[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="for-students.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb192-2"><a href="for-students.html#cb192-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_1 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb192-3"><a href="for-students.html#cb192-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_2 =</span> <span class="fu">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>, <span class="st">&quot;everyone&quot;</span>)</span>
<span id="cb192-4"><a href="for-students.html#cb192-4" aria-hidden="true" tabindex="-1"></a>)[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## $value_1
## [1] 1 2 3</code></pre>
<p>A key difference with lists however, is that you can also subset based on the name of the value in the list using the <code>$</code> operator:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="for-students.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb194-2"><a href="for-students.html#cb194-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_1 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb194-3"><a href="for-students.html#cb194-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_2 =</span> <span class="fu">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>, <span class="st">&quot;everyone&quot;</span>)</span>
<span id="cb194-4"><a href="for-students.html#cb194-4" aria-hidden="true" tabindex="-1"></a>)<span class="sc">$</span>value_1</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>This is equivalent to:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="for-students.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb196-2"><a href="for-students.html#cb196-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_1 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb196-3"><a href="for-students.html#cb196-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">value_2 =</span> <span class="fu">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>, <span class="st">&quot;everyone&quot;</span>)</span>
<span id="cb196-4"><a href="for-students.html#cb196-4" aria-hidden="true" tabindex="-1"></a>)[[<span class="st">&quot;value_1&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>Another key difference is that lists can, of course, hold recursive values. This means that subsetting a list can return another list, that can also be subsetted and so on:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="for-students.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb198-2"><a href="for-students.html#cb198-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">list_1 =</span> <span class="fu">list</span>(</span>
<span id="cb198-3"><a href="for-students.html#cb198-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">list_2 =</span> <span class="fu">list</span>(</span>
<span id="cb198-4"><a href="for-students.html#cb198-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">list_3 =</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb198-5"><a href="for-students.html#cb198-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb198-6"><a href="for-students.html#cb198-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb198-7"><a href="for-students.html#cb198-7" aria-hidden="true" tabindex="-1"></a>)[<span class="dv">1</span>][<span class="dv">1</span>][<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## $list_1
## $list_1$list_2
## $list_1$list_2$list_3
## [1] &quot;hello&quot;</code></pre>
<p>And of course, you can do the same thing with the <code>[[]]</code> operator if you only want the value and not the container.</p>
</div>
<div id="matrices-1" class="section level3" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Matrices</h3>
<p>Matrices are two dimension, meaning they can’t be subsetted with a single value. Instead, we still use the <code>[]</code> operator, but we provide two values: one for the row and another for the column:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="for-students.html#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    6
## [2,]    2    7
## [3,]    3    8
## [4,]    4    9
## [5,]    5   10</code></pre>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="for-students.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">2</span>)[<span class="dv">4</span>,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
</div>
<div id="dataframes-1" class="section level3" number="3.5.4">
<h3><span class="header-section-number">3.5.4</span> Dataframes</h3>
<p>Dataframes can be subsetted in the same way as matrices (using the <code>[]</code> operator). However, dataframes can also be subsetted (like lists), using the <code>$</code> operator and the name of the column:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="for-students.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb204-2"><a href="for-students.html#cb204-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_1 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb204-3"><a href="for-students.html#cb204-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_2 =</span> <span class="fu">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>, <span class="st">&quot;everybody&quot;</span>)</span>
<span id="cb204-4"><a href="for-students.html#cb204-4" aria-hidden="true" tabindex="-1"></a>)<span class="sc">$</span>col_1</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>Why does this approach work for dataframes? Well, as I alluded to <a href="for-students.html#dataframes">before</a>, dataframes store columns as lists. But technically, the dataframe itself is also stored as a kind of list, with each column being another entry in that list. So, just like we can subset lists using <code>$</code>, we can subset dataframes with it as well because a dataframe is like a fancy list.</p>
</div>
<div id="subsetting-by-criteria" class="section level3" number="3.5.5">
<h3><span class="header-section-number">3.5.5</span> Subsetting by criteria</h3>
<p>Sometimes, you might not know the indices of the items you want to extract from a datastructure. Instead, you might want to do something like “extract all numbers from a vector that are less than three”. To do this, we essentially find the indices of the values that match our criteria and then subset the data structure like we learned previously.</p>
<p>Let’s look at subsetting a vector as an example:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="for-students.html#cb206-1" aria-hidden="true" tabindex="-1"></a>vector1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">15</span>,<span class="dv">14</span>,<span class="dv">20</span>,<span class="dv">21</span>,<span class="dv">50</span>)</span></code></pre></div>
<p>Let’s say want to extract all of the values below 20. To find the indices of the values that match our criteria, we just use our logical operators:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="for-students.html#cb207-1" aria-hidden="true" tabindex="-1"></a>vector1 <span class="sc">&lt;</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<p>This returns TRUE if the value is less than 20, and FALSE if it isn’t. We can then pass this vector of TRUE and FALSEs in <code>[]</code> after the vector to only return the values we want:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="for-students.html#cb209-1" aria-hidden="true" tabindex="-1"></a>vector1[vector1 <span class="sc">&lt;</span> <span class="dv">20</span>]</span></code></pre></div>
<pre><code>## [1] 10 15 14</code></pre>
<p>Other data structures can also be subsetted in the same way, but for matrices or dataframes, it’s easier to use something like <code>subset</code> or <code>dplyr::filter()</code> (although <code>subset</code> has its own limitations).</p>
<p>You’ll notice that this is ever so slightly different to the way we were subsetting before. Previously, we were providing just the indices of the values we wanted (e.g. 1,2 and 4). But here, we’re actually providing a vector of TRUE and FALSE values to indicate which values we want. The structure is slightly different, but the logic is the same.</p>
<p>This does mean however, that you can also provide a vector of TRUEs and FALSEs yourself manually if you wish. There are two reasons why I would avoid this however:</p>
<ol style="list-style-type: decimal">
<li>It takes longer to write out</li>
<li>If you don’t provide the same number of logical values (i.e. TRUEs and FALSEs) as there are values in the vector, then the logical values are <strong>recycled</strong>. That means that if you have a vector that’s 6 values long, and you provide a logical vector to subset it that is only three values long, then your logical vector is going to be repeated. This can lead to unwanted results:</li>
</ol>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="for-students.html#cb211-1" aria-hidden="true" tabindex="-1"></a>vector1[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span></code></pre></div>
<pre><code>## [1] 10 14 21</code></pre>
<p>Here, because I’ve only specified two logical values, when it comes to subsetting time, those two values will be recycled to create a vector like this <code>c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)</code>. This is why we get three values returned instead of the expected one.</p>
<p>So while you can manually subset with a vector of logical values indicating whether to return that value as is returned, it’s best to stay away from it.</p>
</div>
<div id="questions-subsetting" class="section level3" number="3.5.6">
<h3><span class="header-section-number">3.5.6</span> Questions</h3>
<ol style="list-style-type: decimal">
<li>Why can dataframes and lists be subsetted in a similar way?</li>
<li>What happens if you miss the last character off when subsetting a dataframe column with <code>$</code> (e.g. <code>df$co</code> instea of <code>df$col</code>)? Does the same thing happen when subsetting using <code>[[]]</code>?</li>
</ol>
</div>
</div>
<div id="functions" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Functions</h2>
<p>Being a functional programming language, functions are at the heart of R. We’ve already used lots of functions in the previous chapters, but now we’re going to look in more detail about what a function is.</p>
<div id="function-basics" class="section level3" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Function basics</h3>
<p>John Chambers, creator of the S programming language upon which R is based and core member of the R programming language project, said this:</p>
<blockquote>
<p>"To understand computations in R, two slogans are helpful:</p>
<ul>
<li>Everything that exists is an object.</li>
<li>Everything that happens is a function call.</li>
</ul>
<p>— John Chambers"</p>
</blockquote>
<p>For now, we’re going to focus on that second statement. What does it mean?</p>
<p>Well, a function is quite simple. It has an input, it does something, and then it gives an output. A really simple example of this is just typing <code>print(1)</code> into the console and hitting enter. You’ve given an input, there was a calculation, and now there’s an output. Something’s happened (1 was printed in the console) and it was done by calling a function (<code>print</code>).</p>
<p>If you’re well-versed in mathematics, you’ll know that functions in maths are the same. <span class="math inline">\(f(x) = {3x}\)</span> means that the to get <code>y</code>, you take <code>x</code> and multiply it by three. In this case, our input is <code>x</code>, our bit in the middle is multiplying by three, and then our output is <code>y</code>.</p>
<p>If you haven’t used functions in mathematics then don’t worry. Even by getting this far in the book, you’ve already used functions loads of times. For example, how do you create a vector? If you remember, you use the <code>c()</code> function, which we know stands for “concatenate”. So, every time you’ve created a vector, you’ve used a function without even knowing it. The input was whatever you provided in the brackets. The computation was to concatenate everything together. And then the output was the vector.</p>
<p>Similarly, whenever you created a factor or a matrix or a dataframe or whatever, you used a function. You provided an input, there was a computation to change that input, and then you got an output.</p>
<p>As confusing as functions will inevitably become, just try to remember the core of what a function is:
When you call a function, there’s an input, something happens, and there’s an output.</p>
<div id="functions-in-r" class="section level4" number="3.6.1.1">
<h4><span class="header-section-number">3.6.1.1</span> Functions in R</h4>
<p>So more specifically, what do functions looks like in R? Well, a good starting point is that when we call (use) a function, its almost always followed by brackets (<code>()</code>) when you use them. This helps make it clear what values you’re providing as your inputs. For example, the <code>c()</code> function, the <code>data.frame()</code> function, the <code>sum()</code> function are all followed by <code>()</code>, which is how you provide your inputs.</p>
<p>I say that nearly almost all functions are followed by <code>()</code>, because some aren’t. A simple example of this is <code>+</code>. <code>+</code> is still a function:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="for-students.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.function</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="for-students.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the backticks just mean I&#39;m referring</span></span>
<span id="cb215-2"><a href="for-students.html#cb215-2" aria-hidden="true" tabindex="-1"></a><span class="co"># to the + function without using it</span></span></code></pre></div>
<p>But it doesn’t have brackets. Instead, we can use a shorthand where we provide the values we want to give to the function either side of it (e.g. <code>1 + 2</code>). Importantly however, the logic is exactly the same, and you can still use the <code>+</code> like a normal function with brackets:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="for-students.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">+</span><span class="st">`</span>(<span class="dv">1</span>,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>It’s just that this looks a little weird to us, so we often use the shorthand way. But the long and short of it is: an easy way to tell when someone is calling (using) a function is to look for the <code>()</code> after the function name.</p>
</div>
<div id="inputs" class="section level4" number="3.6.1.2">
<h4><span class="header-section-number">3.6.1.2</span> Inputs</h4>
<p>We know that to use a function in R, we have to provide inputs*. And we also know that we provide our inputs within the brackets after the function name. But how do we know what values are allowed?</p>
<p>*Technically, sometimes you don’t have to provide an input to a function (e.g. <code>Sys.Date()</code>, which gives us the current date without putting anything in the brackets). But in the interests of clarity, just imagine that the inputs to these functions are blank rather than that they don’t have any input at all.</p>
<p>By typing a <code>?</code> followed by the name of the function into the console (e.g. <code>?length()</code>), you’ll get a help page showing you the input parameters allowed by the function. So if we use <code>?length()</code> as an example, the help page tells us that the <code>length()</code> function expects one input parameter, <code>x</code>, and that needs to be an <code>R</code> object. Nice and simple.</p>
<p>In some cases, you’ll see a <code>...</code> as one of the input parameters. This essentially means that you can provide an indeterminate number of values for that input. I know that sounds confusing, but the <code>c()</code> function is a good way of demonstrating this. When you create a vector, you can provide an (essentially) infinite number of values to the function. So the <code>c()</code> function basically bundles everything you provide to it into that <code>...</code> parameter.</p>
<div id="explicit-input-parameters" class="section level5" number="3.6.1.2.1">
<h5><span class="header-section-number">3.6.1.2.1</span> Explicit input parameters</h5>
<p>If you type <code>?c()</code> into the console however, you’ll see that there are also some other input parameters: <code>recursive</code> and <code>use.names</code>. Well Adam, if <code>...</code> just bundles everything I provide into a single input, then how do those work? Well this outlines the importance of providing <strong>explicit</strong> input parameters. When we’re explicit, we’re saying exactly which input parameter we’re referring to with each value we provide. And to do this, we just provide the name of the input parameter when we give it. Let’s look at the <code>substr()</code> function as an example.</p>
<p>The <code>substr()</code> function simply returns part of a character string that you provide. So, if I was to type:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="for-students.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="st">&quot;Hello&quot;</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hel&quot;</code></pre>
<p>I get the first to the third characters in the string “hello”. With this function call however, I haven’t been explicit. Instead, I’ve just provided the inputs in the order that they’re listed in the documentation:</p>
<ul>
<li>x
<ul>
<li>a character vector<br />
</li>
</ul></li>
<li>start
<ul>
<li>the first element to be extracted<br />
</li>
</ul></li>
<li>stop
<ul>
<li>the last element to be extracted</li>
</ul></li>
</ul>
<p>To be explicit, I need to provide the name of the input parameter that I’m referring to when I provide my inputs:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="for-students.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> <span class="st">&quot;Hello&quot;</span>, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hel&quot;</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="for-students.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">3</span>, <span class="at">x =</span> <span class="st">&quot;Hello&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hel&quot;</code></pre>
<p>Notice how, when I’m being explicit, it doesn’t matter what order I provide my inputs in, R knows which value should be mapped to which input parameter.</p>
<p>Also, notice how we’re using <code>=</code> here and not anything else like <code>&lt;-</code>? This is another reason why I suggest not using <code>=</code> for assignment: we use <code>=</code> when we’re providing input parameters and so it’s good to keep them separate.</p>
<p>So how does this link back with the <code>...</code>? Well, with the <code>c()</code> function, every unnamed parameter you provide is bundled into the <code>...</code> parameter. To give values for the <code>recursive</code> and <code>use.names</code> parameters, you’d need to provide them <em>explicitly</em> (e.g. <code>recursive = TRUE</code>). This will be true of many functions where you see a <code>...</code>. If you’re not explicit with the parameters that you don’t want to be included in the <code>...</code>, you’re going to have a bad time.</p>
</div>
<div id="optional-input-parameters" class="section level5" number="3.6.1.2.2">
<h5><span class="header-section-number">3.6.1.2.2</span> Optional input parameters</h5>
<p>For many functions, certain parameters have a predefined value that they will default to. This provides a level of flexibility whilst not requiring lines and lines of code for every function call; there’s a default value, but you can override it if needed.</p>
<p>Optional parameters are easily distinguished in the documentation of a function because they will a value already assigned to them like this: <code>use.names = TRUE</code>.</p>
<p>For instance, when we create a vector using the <code>c()</code> function, there are two optional parameters (<code>recursive</code> and <code>use.names</code>) that already have the values <code>TRUE</code> and <code>FALSE</code> assigned to them. To override these defaults, we just need to provide a new value to the parameter like this:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="for-students.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">15</span>, <span class="at">use.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1]  1 10 15</code></pre>
</div>
</div>
<div id="outputs" class="section level4" number="3.6.1.3">
<h4><span class="header-section-number">3.6.1.3</span> Outputs</h4>
<p>First and foremost, in R you can have as many input as you like to a function. However, a function will only ever return one <em>thing</em>. I say one <em>thing</em>, because functions can return a list which itself can contain multiple values, but just keep this in mind: <strong>Functions in R have a single return value</strong>.</p>
<div id="reassigning-outputs" class="section level5" number="3.6.1.3.1">
<h5><span class="header-section-number">3.6.1.3.1</span> Reassigning outputs</h5>
<p>Functions in R do not edit the inputs you provide in place. Instead, they essentially work on copies of the inputs you provide. Here’s a quick example:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="for-students.html#cb226-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb226-2"><a href="for-students.html#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="for-students.html#cb228-1" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>As you can see, when we call the <code>sum()</code> function with <code>x</code> as an input parameter, the value of <code>x</code> stays the same.</p>
<p>If you do want to edit your original value, you just need to reassign the output of the function call back to the variable. I know that sounds complicated, but it’s quite simple:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="for-students.html#cb230-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb230-2"><a href="for-students.html#cb230-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sum</span>(x,<span class="dv">1</span>)</span>
<span id="cb230-3"><a href="for-students.html#cb230-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>This works because the right-hand side of the assignment line is executed first. In other words, when the <code>sum(x,1)</code> is evaluated, <code>x</code> is still equal to one. This makes sense because otherwise it’d be very hard to keep track of what <code>x</code> was equal to!</p>
<p>This behaviour (not changing the input parameter value in place) is a major point of difference between functions and what are called methods in other languages. If you’re coming from something like Python, you may be used to changing objects through methods: <code>object.AddNew</code> or something like that. In R, functions do not change variables in the global environment because they are executed in their own environment. To learn more about environments, there is an <a href="environments.html">environments</a> chapter in the “For Teachers” section.</p>
</div>
</div>
</div>
<div id="questions-functions" class="section level3" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Questions</h3>
<ol style="list-style-type: decimal">
<li>Why does <code>`&lt;-`(test, 2)</code> work? What does this tell us about <code>&lt;-</code>?</li>
<li>Why does <code>mean(1,2)</code> not return the output you’d expect but <code>sum(1,2)</code> does?
<ul>
<li>Hint: the documentation of both functions will help.</li>
</ul></li>
<li>Other than <code>Sys.Date()</code>, can you think of another example of a function that be executed without any explcit input parameters?</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="for-teachers.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["_main.pdf", "PDF"], ["_main.epub", "EBook"]],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
